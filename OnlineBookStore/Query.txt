create database onlinestore;
use onlinestore;

create table author(
URL varchar(50) unique,
AuthorName varchar(20),
Address varchar(50) ,
primary key(AuthorName,Address)
);

create table Publisher(
PubName varchar(20) primary key,
Address varchar(50),
Phone integer,
URL varchar(50)
);

create table item(
ItemID int primary key,
IteaName varchar(500),
ItemType varchar(50)
);

create table book(
ISBN varchar(10) primary key,
ItemID int,
Title varchar(20),
BookYear int,
Price float4,
AuthorName varchar(20),
Address varchar(50) ,
PubName varchar(20),
foreign key(PubName) references publisher(PubName) ,
foreign key(AuthorName,Address) references author(AuthorName,Address),
foreign key(ItemID) references item(ItemID)
);

create table MusicCassettes(
CassettesID varchar(10) primary key,
ItemID int,
Title varchar(20),
CassettesYear int,
Price float4,
AuthorName varchar(20),
Address varchar(50) ,
PubName varchar(20),
foreign key(PubName) references publisher(PubName) ,
foreign key(AuthorName,Address) references author(AuthorName,Address),
foreign key(ItemID) references item(ItemID)
);

create table compactdisk(
DiskID varchar(10) primary key,
ItemID int,
Title varchar(20),
DiskYear int,
Price float4,
AuthorName varchar(20),
Address varchar(50) ,
Publisher_name varchar(20),
foreign key(PublName) references publisher(PubName) ,
foreign key(AuthorName,Address) references author(AuthorName,address),
foreign key(ItemID) references item(Item_id)
);

create table warehouse(
code varchar(10) primary key,
address varchar(50),
phone integer,
isbn varchar(10),
foreign key(isbn) references book(isbn)
);

create table customer(
Email varchar(50) primary key,
Name varchar(20),
Address varchar(50),
Phone integer
);


create table ShoppingBasket(
BasketID varchar(10) primary key,
Email varchar(50),
foreign key(Email) references customer(Email)
);

create table cart(
BasketID varchar(10),
ItemID int,
foreign key(ItemID) references item(ItemID),
foreign key(BasketID) references ShoppingBasket(BasketID)
);
